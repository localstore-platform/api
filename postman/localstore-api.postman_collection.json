{
  "info": {
    "name": "LocalStore API",
    "_postman_id": "localstore-api-collection",
    "description": "LocalStore Platform API - Vietnamese-first multi-tenant SaaS backend\n\nBase URL: http://localhost:8080/api/v1\n\nSEO-friendly URL structure:\n- GET /menu/:tenantSlug - Full menu\n- GET /menu/:tenantSlug/categories - Categories list\n- GET /menu/:tenantSlug/:categorySlug - Items in category\n- GET /menu/:tenantSlug/:categorySlug/:itemSlug - Item details\n\nExamples:\n- /menu/pho-hanoi-24/pho - All phở items\n- /menu/pho-hanoi-24/pho/pho-bo-tai - Phở bò tái details",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080/api/v1",
      "type": "string"
    },
    {
      "key": "tenantSlug",
      "value": "pho-hanoi-24",
      "type": "string"
    },
    {
      "key": "categorySlug",
      "value": "pho",
      "type": "string"
    },
    {
      "key": "itemSlug",
      "value": "pho-bo-tai",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Health",
      "description": "Health check endpoints",
      "item": [
        {
          "name": "Health Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has correct structure', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 'ok');",
                  "    pm.expect(jsonData).to.have.property('timestamp');",
                  "    pm.expect(jsonData).to.have.property('uptime');",
                  "    pm.expect(jsonData).to.have.property('version');",
                  "});",
                  "",
                  "pm.test('Uptime is a positive number', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.uptime).to.be.a('number');",
                  "    pm.expect(jsonData.uptime).to.be.above(0);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Basic health check endpoint"
          }
        },
        {
          "name": "Readiness Check",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has ready status', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('status', 'ready');",
                  "    pm.expect(jsonData).to.have.property('timestamp');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health/ready",
              "host": ["{{baseUrl}}"],
              "path": ["health", "ready"]
            },
            "description": "Readiness check endpoint for Kubernetes/load balancers"
          }
        }
      ]
    },
    {
      "name": "Menu",
      "description": "Public menu endpoints",
      "item": [
        {
          "name": "Get Public Menu",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has store info (MenuStoreInfoDto)', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('store');",
                  "    pm.expect(jsonData.store).to.have.property('id');",
                  "    pm.expect(jsonData.store).to.have.property('name');",
                  "    pm.expect(jsonData.store).to.have.property('slug');",
                  "    pm.expect(jsonData.store).to.have.property('businessType');",
                  "});",
                  "",
                  "pm.test('Response has categories array', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('categories');",
                  "    pm.expect(jsonData.categories).to.be.an('array');",
                  "});",
                  "",
                  "pm.test('Response has totalItems and currencyCode (PublicMenuResponse)', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('totalItems');",
                  "    pm.expect(jsonData).to.have.property('currencyCode', 'VND');",
                  "    pm.expect(jsonData).to.have.property('lastUpdatedAt');",
                  "});",
                  "",
                  "pm.test('Categories have items with Vietnamese names', function () {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.categories.length > 0) {",
                  "        const firstCategory = jsonData.categories[0];",
                  "        pm.expect(firstCategory).to.have.property('name');",
                  "        pm.expect(firstCategory).to.have.property('slug');",
                  "        pm.expect(firstCategory).to.have.property('items');",
                  "        pm.expect(firstCategory.items).to.be.an('array');",
                  "    }",
                  "});",
                  "",
                  "pm.test('Menu items have correct structure (MenuItemDto)', function () {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.categories.length > 0 && jsonData.categories[0].items.length > 0) {",
                  "        const item = jsonData.categories[0].items[0];",
                  "        pm.expect(item).to.have.property('id');",
                  "        pm.expect(item).to.have.property('slug');",
                  "        pm.expect(item).to.have.property('name');",
                  "        pm.expect(item).to.have.property('price');",
                  "        pm.expect(item).to.have.property('currencyCode', 'VND');",
                  "        pm.expect(item).to.have.property('available');",
                  "        pm.expect(item).to.have.property('displayOrder');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/menu/{{tenantSlug}}",
              "host": ["{{baseUrl}}"],
              "path": ["menu", "{{tenantSlug}}"]
            },
            "description": "Get full public menu for a tenant using tenant slug (e.g., pho-hanoi-24) including store info, categories, and items"
          }
        },
        {
          "name": "Get Categories",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has store info (MenuCategoriesResponse)', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('store');",
                  "    pm.expect(jsonData.store).to.have.property('name');",
                  "    pm.expect(jsonData.store).to.have.property('slug');",
                  "});",
                  "",
                  "pm.test('Response has categories array without items', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('categories');",
                  "    pm.expect(jsonData.categories).to.be.an('array');",
                  "});",
                  "",
                  "pm.test('Categories have displayOrder', function () {",
                  "    const jsonData = pm.response.json();",
                  "    if (jsonData.categories.length > 0) {",
                  "        pm.expect(jsonData.categories[0]).to.have.property('slug');",
                  "        pm.expect(jsonData.categories[0]).to.have.property('displayOrder');",
                  "    }",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/menu/{{tenantSlug}}/categories",
              "host": ["{{baseUrl}}"],
              "path": ["menu", "{{tenantSlug}}", "categories"]
            },
            "description": "Get categories list with items for a tenant using tenant slug"
          }
        },
        {
          "name": "Get Category Items",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has store info (CategoryItemsResponse)', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('store');",
                  "    pm.expect(jsonData.store).to.have.property('name');",
                  "    pm.expect(jsonData.store).to.have.property('slug');",
                  "});",
                  "",
                  "pm.test('Response has category info', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('category');",
                  "    pm.expect(jsonData.category).to.have.property('id');",
                  "    pm.expect(jsonData.category).to.have.property('slug');",
                  "    pm.expect(jsonData.category).to.have.property('name');",
                  "});",
                  "",
                  "pm.test('Response has items array', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('items');",
                  "    pm.expect(jsonData.items).to.be.an('array');",
                  "});",
                  "",
                  "pm.test('Response has totalItems count', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('totalItems');",
                  "    pm.expect(jsonData.totalItems).to.be.a('number');",
                  "    pm.expect(jsonData.totalItems).to.equal(jsonData.items.length);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/menu/{{tenantSlug}}/{{categorySlug}}",
              "host": ["{{baseUrl}}"],
              "path": ["menu", "{{tenantSlug}}", "{{categorySlug}}"]
            },
            "description": "Get all items in a specific category using SEO-friendly URL (e.g., /menu/pho-hanoi-24/pho)"
          }
        },
        {
          "name": "Get Menu Item",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has item details (MenuItemDto)', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('slug');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.expect(jsonData).to.have.property('price');",
                  "    pm.expect(jsonData).to.have.property('currencyCode');",
                  "    pm.expect(jsonData).to.have.property('available');",
                  "    pm.expect(jsonData).to.have.property('displayOrder');",
                  "});",
                  "",
                  "pm.test('Item has Vietnamese name', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.name).to.be.a('string');",
                  "    pm.expect(jsonData.name.length).to.be.above(0);",
                  "});",
                  "",
                  "pm.test('Price is in VND', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData.currencyCode).to.equal('VND');",
                  "    pm.expect(jsonData.price).to.be.a('number');",
                  "    pm.expect(jsonData.price).to.be.at.least(0);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/menu/{{tenantSlug}}/{{categorySlug}}/{{itemSlug}}",
              "host": ["{{baseUrl}}"],
              "path": ["menu", "{{tenantSlug}}", "{{categorySlug}}", "{{itemSlug}}"]
            },
            "description": "Get a single menu item using SEO-friendly URL (e.g., /menu/pho-hanoi-24/pho/pho-bo-tai)"
          }
        },
        {
          "name": "Get Menu - Invalid Tenant",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test('Response has error details', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/menu/invalid-tenant-slug",
              "host": ["{{baseUrl}}"],
              "path": ["menu", "invalid-tenant-slug"]
            },
            "description": "Test 404 response for non-existent tenant slug"
          }
        },
        {
          "name": "Get Menu Item - Invalid Item",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test('Response has error details', function () {",
                  "    const jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('message');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/menu/{{tenantSlug}}/{{categorySlug}}/invalid-item-slug",
              "host": ["{{baseUrl}}"],
              "path": ["menu", "{{tenantSlug}}", "{{categorySlug}}", "invalid-item-slug"]
            },
            "description": "Test 404 response for non-existent menu item slug"
          }
        }
      ]
    }
  ]
}
